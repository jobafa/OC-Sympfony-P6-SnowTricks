{% extends 'base.html.twig' %}

{% form_theme formTrick 'bootstrap_5_layout.html.twig' %}

{% block body %}
<div class="container-fluid mt-5" >
	<div class="row justify-content-center py-5"  id="ajoutfigure" >
		<div class="col col-lg-8  px-2 ">
			<div class="card mt-3">
				<div class="card-header py-1"> 
						<h4 >Création d'une figure</h4>	
				</div>
				<div class="card-body">
					
					{{ form_start(formTrick) }}
					{{ form_row(formTrick.category, {'attr': {'placeholder': "Titre de la Figure"}}) }}
					{{ form_row(formTrick.title, {'attr': {'placeholder': "Titre de la Figure"}}) }}
					{{ form_row(formTrick.content, {'attr': {'placeholder': "Contenu de la Figure"}}) }}
					{{ form_row(formTrick.defaultimage) }}	
					<div class="col col-lg-6 pt-2 pb-5 d-flex flex-column">
						<div class="col pt-1 pb-1 flex-column" id="newTrickImages">
							<ul id="image-fields-list"
								data-prototype="{{ form_widget(formTrick.images.vars.prototype)|e }}"
								data-widget-tags="{{ '<li></li>'|e }}"
								data-widget-counter="{{ formTrick.images|length }}">
								{% for imageField in formTrick.images %}
									<li>
										{{ form_errors(imageField) }}
										{{ form_widget(imageField) }}
									</li>
								{% endfor %}
							</ul>
							<input type="hidden" id="image-counter">
							<button type="button" id="add-image" 
								class="add-another-collection-widget bg-primary text-white"
								data-list-selector="#image-fields-list">Ajouter une Image
							</button>   
						</div>
						<div class="col pt-1 pb-1 flex-column" id="newTrickVideos">
							<ul id="video-fields-list"
								data-prototype="{{ form_widget(formTrick.videos.vars.prototype)|e }}"
								data-widget-tags="{{ '<li></li>'|e }}"
								data-widget-counter="{{ formTrick.videos|length }}">
								{% for videoField in formTrick.videos %}
									<li>
										{{ form_errors(videoField) }}
										{{ form_widget(videoField) }}
									</li>
								{% endfor %}
							</ul>
							<input type="hidden" id="video-counter">
							<button type="button"
								class="add-another-collection-widget bg-primary text-white"
								data-list-selector="#video-fields-list">Ajouter une Video
							</button>
						</div>
					</div>
					
					<button type="submit" class="btn btn-success">
							Créer la Figure						
					</button>
					
					{{ form_end(formTrick) }}
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}



